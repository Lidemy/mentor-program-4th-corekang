## 網站部署心得

註冊 AWS 過程驗證失敗，無法發送驗證碼到手機，以為是信用卡資料錯誤，查看網路銀行帳務通知，原來是必須開通信用卡國外線上交易服務。接著參考 [部署 AWS EC2 遠端主機 + Ubuntu LAMP 環境 + phpmyadmin](https://github.com/Lidemy/mentor-program-2nd-yuchun33/issues/15)，完全看不懂步驟裡的選項區別與專有名詞，才開始意識到整理出這些步驟，背後閱讀許多參考資料，這才是這週的學習目標。例如 Step 1 為什麼選擇 Ubuntu Server 18.04 LTS (HVM), SSD Volume Type？ Ubuntu 是免費和開源作業系統，LTS 代表官方較長時間支援作業系統版本，另外推出短期測試版本，18.04 代表 2018年4月發行，Ubuntu 每年4月、10月各發行一個版本。聽起來意思是可以持續一段夠長的時間穩定測試開發。Ubuntu 相同主要版本發行 2 次版本，分別在 4月、11月。通常每個版本提供 18 個月安全更新服務，LTS 版本則針對 Desktop 版本提供 3 年更新支援， Server 版本提供 5 年更新支援。

接著大致了解 LAMP 組成與功能，用途等同於 XAMPP。LAMP 是 Web Application Stacks 之一，所謂 Web Application Stacks 包括作業系統、網頁伺服器、資料庫、程式語言，意即整合一組開源軟體，以運行動態網站或伺服器。不過，對於「網站部署」整體輪廓還是很模糊，朋友建議改為搜尋網站架設，果然出現網站託管等不同關鍵字，[（一）前言－－AWS經驗教學](https://akuma1.pixnet.net/blog/post/291578440-（一）前言－－aws經驗教學)從 AWS 出現、為什麼需要 AWS 開始說起，以及怎麼理解 AWS，雖然發表於 2017 年，當時業界使用狀況也有助於參考，了解為什麼需要網站託管服務，進一步了解自己架設網站主機需要哪些設備。

朋友建議練習用自己的電腦架設網站主機，會比較容易理解，聽起來不錯的點子，初步架構練習只需 2-3 萬元。前述文章提到相關需求，基本需要：伺服器，與自己玩玩的性質不同，必須考量流量、硬體處理能力；硬碟，考量資料備援，避免資料掛掉、遺失；防火牆，進行對外初步防禦；交換器（Switch），朋友說明：「如果你拿著大聲公告知事情，可能有人沒聽到，交換器就像郵差，把訊息送到每個位置。」不斷電系統（UPS）提供短暫電量，就像大電池，以防突然停電造成主機掛掉：機櫃，機器設備專用櫃，通常上鎖避免一般人操作或誤觸。整套基本設備至少 200-300 萬，改為每月租用僅 2000-3000 元，這也是 AWS 這類服務被需求的關鍵，大大減少初期營運成本。

了解 AWS 發展為商業服務的過程，對於學習程式的應用方向也有啟發，Amazon 經營網路服務的契機，源於 Amazon 購物網站因應節慶商機而添購大量硬體，但其實這些設備在一般時日只能閒置，因此轉而開始出租服務，意外發現是個大商機，於是持續發展而來。[甩開微軟和Google，Amazon稱霸雲端服務3個關鍵因素](https://startuplatte.com/2017/01/05/3-reasons-why-amazon-aws-crush-google-and-microsoft-cloud-service/)做了清晰的註解：「AWS 的開發一開始只是為了滿足內部需求，並不是為了成為一個獲利服務而建立。在開發的過程中，即使不知道未來能夠提供怎樣的服務，在不停的試誤、調整中，找到雲端基礎設施系統的商機藍圖，甚至成為 Amazon 中的金雞母事業。因此，不要害怕未知，保持彈性不停調整，模糊的商機藍圖會漸漸地清晰。」

與資料庫相關的設定比較複雜，直接參考課程影片〈網站部署講解〉：安裝 MySQL 設定密碼是資料庫管理密碼，而非資料庫登入密碼。透過其他資料庫軟體連線，例如 Sequel Pro，主機 Security groups 預設開啟 80、22、443 Port，MySQL 是 3306 Port，因此主機 Security groups 必須新增傳入規則，選擇 MYSQL/Aurora 3306 隨處；開啟 mysqld.cnf，預設只有自己主機才可以連線資料庫，註解 bind-address = 127.0.0.1，sudo service mysql restart 使設定生效；登入 phpMyAdmin，編輯使用者帳號 root 權限，改為任意主機，root 主機名稱變成 %，代表可從任何主機連線。

第 14 週一看見很多陌生詞彙，一開始迷路很久，不知道從何查起，後來靜下心來一個個查，雖然越查越發現背景知識很深厚，有時求問朋友快速取得問題關鍵字，先有個大方向，再慢慢聚焦。過程中自學部分還是不夠，主要仰賴同學文章與自己查詢的知識片段拼湊起來，最後還是透過課程影片〈網站部署講解〉有了比較具體的了解。